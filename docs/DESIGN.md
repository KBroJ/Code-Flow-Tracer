# ì „ì²´ ì„¤ê³„ (Architecture)

> ìµœì¢… ìˆ˜ì •ì¼: 2025-12-30

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
ë ˆê±°ì‹œ Java ì½”ë“œì˜ **API ì—”ë“œí¬ì¸íŠ¸ â†’ Controller â†’ Service â†’ DAO â†’ SQL** í˜¸ì¶œ íë¦„ì„ ìë™ìœ¼ë¡œ ì¶”ì í•˜ê³  ë¬¸ì„œí™”í•˜ëŠ” ë„êµ¬

### 1.2 ë°°ê²½
- 4ë…„ê°„ ê³µê³µ SI/SM í”„ë¡œì íŠ¸ ê²½í—˜ì—ì„œ ëŠë‚€ Pain Point
- ë ˆê±°ì‹œ ì½”ë“œ íŒŒì•…ì— ì‹œê°„ì´ ë§ì´ ì†Œìš”ë¨
- ë¶„ê¸°ê°€ ë§ì€ ì½”ë“œì—ì„œ íë¦„ ì¶”ì ì´ ì–´ë ¤ì›€
- ì¸ìˆ˜ì¸ê³„ ì‹œ ë¬¸ì„œí™”ëœ ìë£Œ ë¶€ì¡±

### 1.3 ëª©í‘œ
```
[ìš”ì²­ URL: /api/user/list]
    â†“
[UserController.getList()]
    â†“
[UserService.findAll()]
    â†“
[UserDAO.selectUserList]
    â†“
[SQL: SELECT * FROM TB_USER...]
```

ì´ íë¦„ì„ **ìë™ìœ¼ë¡œ ë¶„ì„**í•˜ê³  **ì—‘ì…€ë¡œ ì¶œë ¥**

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì „ì²´ êµ¬ì¡°

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚    CLI      â”‚  â”‚  Swing GUI  â”‚  â”‚   (í™•ì¥)    â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚                â”‚
          â–¼                â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Core Engine                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚                  FlowAnalyzer                    â”‚    â”‚
â”‚  â”‚  - í˜¸ì¶œ íë¦„ ì¶”ì                                 â”‚    â”‚
â”‚  â”‚  - í´ë˜ìŠ¤ ê°„ ì—°ê²°                                â”‚    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â”‚           â”‚                        â”‚                     â”‚
â”‚           â–¼                        â–¼                     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”           â”‚
â”‚  â”‚ JavaSourceParserâ”‚      â”‚  IBatisParser   â”‚           â”‚
â”‚  â”‚ - Java AST ë¶„ì„ â”‚      â”‚ - XML SQL íŒŒì‹±  â”‚           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
          â”‚
          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Output                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                       â”‚
â”‚  â”‚   Console   â”‚  â”‚    Excel    â”‚                       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 íŒ¨í‚¤ì§€ êµ¬ì¡°

```
com.codeflow/
â”œâ”€â”€ Main.java                 # ì—”íŠ¸ë¦¬í¬ì¸íŠ¸, CLI ì²˜ë¦¬
â”‚
â”œâ”€â”€ parser/                   # ì†ŒìŠ¤ ì½”ë“œ íŒŒì‹±
â”‚   â”œâ”€â”€ JavaSourceParser.java # Java ì†ŒìŠ¤ íŒŒì‹± (JavaParser ì‚¬ìš©)
â”‚   â”œâ”€â”€ IBatisParser.java     # iBatis/MyBatis XML íŒŒì‹±
â”‚   â”œâ”€â”€ ParsedClass.java      # íŒŒì‹±ëœ í´ë˜ìŠ¤ ì •ë³´
â”‚   â”œâ”€â”€ ParsedMethod.java     # íŒŒì‹±ëœ ë©”ì„œë“œ ì •ë³´
â”‚   â”œâ”€â”€ MethodCall.java       # ë©”ì„œë“œ í˜¸ì¶œ ì •ë³´
â”‚   â”œâ”€â”€ ClassType.java        # í´ë˜ìŠ¤ íƒ€ì… (Controller, Service, DAO)
â”‚   â”œâ”€â”€ SqlInfo.java          # SQL ìƒì„¸ ì •ë³´ (íŒŒì¼ëª…, namespace, íƒ€ì…, í…Œì´ë¸”, íŒŒë¼ë¯¸í„°)
â”‚   â””â”€â”€ ParameterInfo.java    # íŒŒë¼ë¯¸í„° ì •ë³´ (@RequestParam, VO í•„ë“œ ë“±)
â”‚
â”œâ”€â”€ analyzer/                 # í˜¸ì¶œ íë¦„ ë¶„ì„
â”‚   â”œâ”€â”€ FlowAnalyzer.java     # ë©”ì¸ ë¶„ì„ ì—”ì§„
â”‚   â”œâ”€â”€ FlowNode.java         # íë¦„ ë…¸ë“œ (íŠ¸ë¦¬ êµ¬ì¡°)
â”‚   â””â”€â”€ FlowResult.java       # ë¶„ì„ ê²°ê³¼
â”‚
â”œâ”€â”€ output/                   # ê²°ê³¼ ì¶œë ¥
â”‚   â”œâ”€â”€ OutputFormatter.java  # ì¶œë ¥ ì¸í„°í˜ì´ìŠ¤
â”‚   â”œâ”€â”€ ConsoleOutput.java    # ì½˜ì†” ì¶œë ¥
â”‚   â””â”€â”€ ExcelOutput.java      # ì—‘ì…€ ì¶œë ¥ (Apache POI)
â”‚
â”œâ”€â”€ session/                  # ì„¸ì…˜ ì˜ì†ì„± (v1.1)
â”‚   â”œâ”€â”€ SessionManager.java   # ì„¸ì…˜ ì €ì¥/ë¡œë“œ/ì‚­ì œ
â”‚   â””â”€â”€ SessionData.java      # ì„¸ì…˜ ë°ì´í„° (JSON ì§ë ¬í™”)
â”‚
â”œâ”€â”€ util/                     # ìœ í‹¸ë¦¬í‹°
â”‚   â””â”€â”€ CftLogger.java        # ë¡œê¹… ì‹œìŠ¤í…œ (java.util.logging ê¸°ë°˜, ì‹±ê¸€í†¤)
â”‚
â””â”€â”€ ui/                       # GUI
    â”œâ”€â”€ MainFrame.java        # ë©”ì¸ ìœˆë„ìš°
    â””â”€â”€ ResultPanel.java      # ê²°ê³¼ í‘œì‹œ íŒ¨ë„
```

---

## 3. í•µì‹¬ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„

### 3.1 JavaSourceParser

**ì—­í• **: Java ì†ŒìŠ¤ ì½”ë“œë¥¼ ASTë¡œ íŒŒì‹±í•˜ì—¬ í´ë˜ìŠ¤, ë©”ì„œë“œ, í˜¸ì¶œ ê´€ê³„ ì¶”ì¶œ

**ì™œ JavaParser ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„ íƒí–ˆëŠ”ê°€?**
- ì •ê·œì‹ ê¸°ë°˜ íŒŒì‹±ì€ ë³µì¡í•œ ì½”ë“œì—ì„œ ì˜¤ë¥˜ ë°œìƒ
- AST ê¸°ë°˜ ë¶„ì„ìœ¼ë¡œ ì •í™•í•œ ë©”ì„œë“œ í˜¸ì¶œ ê´€ê³„ ì¶”ì¶œ ê°€ëŠ¥
- Java 1.0 ~ 21ê¹Œì§€ ëª¨ë“  ë²„ì „ ì§€ì›
- í™œë°œí•œ ì»¤ë®¤ë‹ˆí‹°, í’ë¶€í•œ ë¬¸ì„œ

```java
// ì‚¬ìš© ì˜ˆì‹œ
JavaSourceParser parser = new JavaSourceParser();
ParsedClass clazz = parser.parseFile(Path.of("UserController.java"));

// ê²°ê³¼
// clazz.getClassName() â†’ "UserController"
// clazz.getClassType() â†’ ClassType.CONTROLLER
// clazz.getMethods() â†’ [selectUserList(), insertUser(), ...]
```

### 3.2 IBatisParser

**ì—­í• **: iBatis/MyBatis XML íŒŒì¼ì—ì„œ SQL ì •ë³´ ì¶”ì¶œ ë° ë§¤í•‘

**ì™œ JDOM2ë¥¼ ì„ íƒí–ˆëŠ”ê°€?**
- ì§ê´€ì ì¸ API
- DOM ë°©ì‹ìœ¼ë¡œ ì „ì²´ êµ¬ì¡° íŒŒì•… ìš©ì´
- ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì²˜ë¦¬ ì§€ì›

**ì§€ì› í˜•ì‹**:
- iBatis: `<sqlMap namespace="...">` ë£¨íŠ¸ ìš”ì†Œ
- MyBatis: `<mapper namespace="...">` ë£¨íŠ¸ ìš”ì†Œ

**ì¶”ì¶œ ì •ë³´**:
- íŒŒì¼ëª…, namespace, SQL ID
- SQL íƒ€ì… (SELECT, INSERT, UPDATE, DELETE)
- ë°˜í™˜íƒ€ì… (resultClass, resultType, resultMap)
- ì‚¬ìš© í…Œì´ë¸” (FROM, JOIN, INTO, UPDATE í‚¤ì›Œë“œì—ì„œ ì¶”ì¶œ)
- ì „ì²´ ì¿¼ë¦¬ (Excel ì¶œë ¥ìš©)

**DTD ê²€ì¦ ë¹„í™œì„±í™”**:
```java
// íì‡„ë§ í™˜ê²½ ëŒ€ì‘ - ì™¸ë¶€ DTD ë¡œë“œ ì‹œë„ ë°©ì§€
SAXBuilder builder = new SAXBuilder();
builder.setFeature("http://apache.org/xml/features/nonvalidating/load-external-dtd", false);
builder.setFeature("http://xml.org/sax/features/external-general-entities", false);
builder.setFeature("http://xml.org/sax/features/external-parameter-entities", false);
```

```java
// ì‚¬ìš© ì˜ˆì‹œ
IBatisParser parser = new IBatisParser();
Map<String, SqlInfo> sqlMap = parser.parseProject(projectPath);

// ê²°ê³¼
SqlInfo info = sqlMap.get("userDAO.selectUserList");
// info.getFileName() â†’ "User_SQL.xml"
// info.getType() â†’ SqlType.SELECT
// info.getTables() â†’ ["TB_USER"]
// info.getQuery() â†’ "SELECT USER_ID, USER_NAME FROM TB_USER..."
```

### 3.3 FlowAnalyzer

**ì—­í• **: íŒŒì‹±ëœ í´ë˜ìŠ¤ë“¤ì„ ì—°ê²°í•˜ì—¬ í˜¸ì¶œ íë¦„ íŠ¸ë¦¬ ìƒì„±

**ë¶„ì„ ì•Œê³ ë¦¬ì¦˜**:
1. ëª¨ë“  Java íŒŒì¼ íŒŒì‹±
2. Controller í´ë˜ìŠ¤ì—ì„œ ì‹œì‘
3. ë©”ì„œë“œ í˜¸ì¶œì„ ë”°ë¼ê°€ë©° Service â†’ DAO ì—°ê²°
4. DAO ë©”ì„œë“œì—ì„œ SQL ID ì¶”ì¶œ
5. iBatis XMLì—ì„œ ì‹¤ì œ SQL ë§¤í•‘
6. íŠ¸ë¦¬ êµ¬ì¡°ë¡œ ê²°ê³¼ ë°˜í™˜

```java
// ì‚¬ìš© ì˜ˆì‹œ
FlowAnalyzer analyzer = new FlowAnalyzer(parsedClasses, sqlMappings);
FlowResult result = analyzer.analyze("/api/user/list");

// ê²°ê³¼: íŠ¸ë¦¬ êµ¬ì¡°
// UserController.selectUserList()
//   â””â†’ userService.selectUserList()
//       â””â†’ UserServiceImpl.selectUserList()
//           â””â†’ userDAO.selectUserList()
//               â””â†’ SQL: SELECT * FROM TB_USER...
```

### 3.4 Output Formatters

**ì—­í• **: ë¶„ì„ ê²°ê³¼ë¥¼ ë‹¤ì–‘í•œ í˜•ì‹ìœ¼ë¡œ ì¶œë ¥

| Formatter | ìš©ë„ | ë¼ì´ë¸ŒëŸ¬ë¦¬ |
|-----------|------|-----------|
| ConsoleOutput | í„°ë¯¸ë„ ì¶œë ¥, ë””ë²„ê¹… | - |
| ExcelOutput | ì¸ìˆ˜ì¸ê³„ ë¬¸ì„œ | Apache POI |

---

## 4. ë°ì´í„° ëª¨ë¸

### 4.1 ParsedClass
```java
public class ParsedClass {
    Path filePath;           // íŒŒì¼ ê²½ë¡œ
    String packageName;      // íŒ¨í‚¤ì§€ëª…
    String className;        // í´ë˜ìŠ¤ëª…
    ClassType classType;     // CONTROLLER, SERVICE, DAO, OTHER
    List<ParsedMethod> methods;
}
```

### 4.2 ParsedMethod
```java
public class ParsedMethod {
    String methodName;       // ë©”ì„œë“œëª…
    String returnType;       // ë°˜í™˜ íƒ€ì…
    String urlMapping;       // @RequestMapping URL
    String httpMethod;       // GET, POST, PUT, DELETE
    List<MethodCall> methodCalls;  // ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œë“¤
}
```

### 4.3 FlowNode (íŠ¸ë¦¬ êµ¬ì¡°)
```java
public class FlowNode {
    String className;
    String methodName;
    ClassType classType;
    String sqlId;            // DAOì¸ ê²½ìš° SQL ID
    String sqlQuery;         // ì‹¤ì œ SQL
    SqlInfo sqlInfo;         // SQL ìƒì„¸ ì •ë³´ (íŒŒì¼ëª…, namespace, íƒ€ì…, í…Œì´ë¸” ë“±)
    List<FlowNode> children; // í˜¸ì¶œí•˜ëŠ” ë©”ì„œë“œë“¤
}
```

### 4.4 SqlInfo (SQL ìƒì„¸ ì •ë³´)
```java
public class SqlInfo {
    String fileName;         // XML íŒŒì¼ëª… (User_SQL.xml)
    String namespace;        // sqlMap/mapper namespace
    String sqlId;            // SQL ID (selectUserList)
    SqlType type;            // SELECT, INSERT, UPDATE, DELETE
    String resultType;       // ë°˜í™˜ íƒ€ì… (UserVO, HashMap)
    List<String> tables;     // ì‚¬ìš© í…Œì´ë¸” ëª©ë¡ [TB_USER, TB_DEPT]
    String query;            // ì „ì²´ SQL ì¿¼ë¦¬ (Excel ì¶œë ¥ìš©)
    List<String> sqlParameters; // SQL íŒŒë¼ë¯¸í„° ëª©ë¡ [userId, deptId]
}
```

**SQL íŒŒë¼ë¯¸í„° ìë™ ì¶”ì¶œ**:
- iBatis í˜•ì‹: `#paramName#` â†’ `paramName`
- MyBatis í˜•ì‹: `#{paramName}` â†’ `paramName`
- MyBatis ê°ì²´ í˜•ì‹: `#{obj.property}` â†’ `property`

```java
// ì •ê·œì‹ íŒ¨í„´
private static final Pattern IBATIS_PARAM_PATTERN = Pattern.compile("#([a-zA-Z_][a-zA-Z0-9_]*)#");
private static final Pattern MYBATIS_PARAM_PATTERN = Pattern.compile("#\\{([a-zA-Z_][a-zA-Z0-9_.]*)\\}");
```

---

## 4.5 ExcelOutput ì„¤ê³„

### ì‹œíŠ¸ êµ¬ì„±
| ì‹œíŠ¸ | ìš©ë„ | ë‚´ìš© |
|------|------|------|
| ìš”ì•½ | ì „ì²´ í˜„í™© | í”„ë¡œì íŠ¸ ê²½ë¡œ, ë¶„ì„ ì‹œê°„, í´ë˜ìŠ¤/ì—”ë“œí¬ì¸íŠ¸ í†µê³„ |
| í˜¸ì¶œ íë¦„ | ìƒì„¸ ë¶„ì„ | í‰ë©´ í…Œì´ë¸” í˜•ì‹ (ë ˆì´ì–´ë³„ ì»¬ëŸ¼ ë¶„ë¦¬) |
| SQL ëª©ë¡ | SQL ëª©ë¡ | ëª¨ë“  SQL ID, íƒ€ì…, í…Œì´ë¸”, ì¿¼ë¦¬ |

### í˜¸ì¶œ íë¦„ ì‹œíŠ¸ ì»¬ëŸ¼
```
No | HTTP | URL | íŒŒë¼ë¯¸í„° | Controller | Service | DAO | SQL íŒŒì¼ | SQL ID | í…Œì´ë¸” | ì¿¼ë¦¬
```

### íŒŒë¼ë¯¸í„° í‘œì‹œ ì „ëµ
- **Controller íŒŒë¼ë¯¸í„°**: `@RequestParam`, `@PathVariable`, VO ì‚¬ìš© í•„ë“œ
- **SQL íŒŒë¼ë¯¸í„°**: `#param#`, `#{param}` ì¶”ì¶œ
- **í•©ì§‘í•©**: Controller + SQL íŒŒë¼ë¯¸í„°ë¥¼ ë³‘í•©í•˜ì—¬ í‘œì‹œ

```
ì˜ˆì‹œ: /user/detail.do â†’ DeptDAO.selectDept()
- Controller íŒŒë¼ë¯¸í„°: userId
- SQL íŒŒë¼ë¯¸í„°: deptId
- í‘œì‹œ: userId, deptId
```

### CLI ì˜µì…˜
```bash
# ê¸°ë³¸ ê²½ë¡œë¡œ ì—‘ì…€ ìƒì„± (output/code-flow-result.xlsx)
java -jar code-flow-tracer.jar -p samples --excel

# ì‚¬ìš©ì ì§€ì • ì¶œë ¥ íŒŒì¼
java -jar code-flow-tracer.jar -p samples -o result.xlsx

# ì¶œë ¥ ë””ë ‰í† ë¦¬ ë³€ê²½
java -jar code-flow-tracer.jar -p samples --excel -d exports
```

### ì¤‘ë³µ íŒŒì¼ëª… ì²˜ë¦¬
```
code-flow-result.xlsx (ì´ë¯¸ ì¡´ì¬)
â†’ code-flow-result (1).xlsx
â†’ code-flow-result (2).xlsx
...
```

---

## 5. ê¸°ìˆ  ì„ íƒ ê·¼ê±°

### 5.1 ì™œ Java 17ì¸ê°€?
- Record, Pattern Matching ë“± ëª¨ë˜ ë¬¸ë²• í•™ìŠµ
- ì¥ê¸° ì§€ì›(LTS) ë²„ì „
- ë¶„ì„ ëŒ€ìƒì€ ëª¨ë“  Java ë²„ì „ ì§€ì›

### 5.2 ì™œ Swingì¸ê°€? (Web UI ëŒ€ì‹ )
| ê¸°ì¤€ | Web UI | Swing |
|------|--------|-------|
| íì‡„ë§ ì‚¬ìš© | â–³ ì„œë²„ í•„ìš” | â— JARë§Œ ìˆìœ¼ë©´ ë¨ |
| ë°°í¬ | ë³µì¡ | JAR í•˜ë‚˜ |
| ì˜ì¡´ì„± | ë¸Œë¼ìš°ì € í•„ìš” | Javaë§Œ ìˆìœ¼ë©´ ë¨ |

**ê²°ë¡ **: íì‡„ë§ SI í™˜ê²½ì—ì„œ JAR í•˜ë‚˜ë¡œ ì‹¤í–‰ ê°€ëŠ¥í•œ Swing ì„ íƒ

### 5.3 ì™œ Picocliì¸ê°€?
- ì–´ë…¸í…Œì´ì…˜ ê¸°ë°˜ CLI ì •ì˜
- ìë™ help ìƒì„±
- íƒ€ì… ë³€í™˜ ìë™ ì²˜ë¦¬

---

## 6. í™•ì¥ ê³„íš

### Phase 1 (MVP, 4ì£¼)
- [x] ê¸°ë³¸ íŒŒì‹± (Controller, Service, DAO)
- [x] í˜¸ì¶œ íë¦„ ì—°ê²°
- [x] ì½˜ì†” ì¶œë ¥ (íŠ¸ë¦¬ í˜•íƒœ, ANSI ìƒ‰ìƒ)
- [x] iBatis XML íŒŒì‹± (SqlInfo, IBatisParser, DAO-SQL ì—°ê²°)
- [x] ì—‘ì…€ ì¶œë ¥ (ìš”ì•½, API ëª©ë¡, í˜¸ì¶œ íë¦„ ì‹œíŠ¸)
- [x] Swing GUI (FlatLaf ë‹¤í¬ í…Œë§ˆ)

### Phase 2 (v1.1 - ê¸°ëŠ¥ í™•ì¥)
- [x] ì„¸ì…˜ ì˜ì†ì„± (ë¶„ì„ ê²°ê³¼ ì €ì¥/ë³µì›) - [#15](https://github.com/KBroJ/Code-Flow-Tracer/issues/15) âœ…
- [ ] ì‘ì—… ê´€ë¦¬ íƒ­ (Jira ìŠ¤íƒ€ì¼ ì¹¸ë°˜ ë³´ë“œ) - [#16](https://github.com/KBroJ/Code-Flow-Tracer/issues/16)

### Phase 3 (í–¥í›„)
- [ ] ë¶„ê¸° ì¡°ê±´ íŒŒë¼ë¯¸í„° ì¶”ì¶œ (if/switch ë¶„ì„)
- [ ] MyBatis ì–´ë…¸í…Œì´ì…˜ ì§€ì›
- [ ] Spring Data JPA ì§€ì›
- [ ] í—¥ì‚¬ê³ ë‚  ì•„í‚¤í…ì²˜ ì§€ì›
- [ ] ì‹œê°í™” (ë‹¤ì´ì–´ê·¸ë¨ ìƒì„±)

---

## 7. ì œì•½ì‚¬í•­ ë° í•œê³„ì 

### 7.1 ì§€ì› ë²”ìœ„
- ì§ì ‘ ë©”ì„œë“œ í˜¸ì¶œë§Œ ì¶”ì 
- ì •ì  ë¶„ì„ ê¸°ë°˜ (ëŸ°íƒ€ì„ ë™ì‘ X)

### 7.2 ë¯¸ì§€ì› (MVP ë²”ìœ„)
- ì´ë²¤íŠ¸ ê¸°ë°˜ í˜¸ì¶œ (@EventListener)
- AOP í”„ë¡ì‹œ ë™ì‘
- ë¦¬í”Œë ‰ì…˜ ê¸°ë°˜ í˜¸ì¶œ
- ë™ì  í”„ë¡ì‹œ

### 7.3 ì •ì  ë¶„ì„ì˜ í•œê³„ì 

> ì´ ë„êµ¬ëŠ” **ì •ì  ë¶„ì„** ê¸°ë°˜ì´ë¯€ë¡œ ì•„ë˜ ì¼€ì´ìŠ¤ì—ì„œ í•œê³„ê°€ ìˆìŠµë‹ˆë‹¤.

#### ë¶„ê¸° ì¡°ê±´ íŒŒë¼ë¯¸í„° ì¶”ì¶œ ë¶ˆê°€

```java
// Service ë©”ì„œë“œ
public void process(String gubun, String userId, String deptId) {
    if ("1".equals(gubun)) {
        userDAO.selectUser(userId);    // SQL: #userId#
    } else if ("2".equals(gubun)) {
        deptDAO.selectDept(deptId);    // SQL: #deptId#
    }
}
```

- **í˜„ì¬**: `gubun`ì´ ë¶„ê¸° ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©ëœë‹¤ëŠ” ê²ƒì„ ê°ì§€í•˜ì§€ ëª»í•¨
- **ì¶”ì¶œë˜ëŠ” íŒŒë¼ë¯¸í„°**: userId, deptId (SQL íŒŒë¼ë¯¸í„°ë§Œ)
- **ëˆ„ë½**: gubun (ë¶„ê¸° ì¡°ê±´ íŒŒë¼ë¯¸í„°)
- **ì´ìœ **: if/switch ì¡°ê±´ì‹ ë¶„ì„ êµ¬í˜„ ë³µì¡ë„ (ë‹¤ì–‘í•œ íŒ¨í„´ ì¡´ì¬)

```java
// ë‹¤ì–‘í•œ ë¶„ê¸° íŒ¨í„´ ì˜ˆì‹œ - ëª¨ë‘ ê°ì§€í•˜ê¸° ì–´ë ¤ì›€
if ("1".equals(gubun)) { ... }           // ë‹¨ìˆœ ë¹„êµ
if (gubun != null && gubun.equals(type)) // ë³µí•© ì¡°ê±´
switch (gubun) { case "1": ... }         // switch
dao = gubun.equals("1") ? dao1 : dao2;   // ì‚¼í•­ ì—°ì‚°ì
if (StringUtils.equals(gubun, "1")) { }  // ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ
```

#### ì£½ì€ ì½”ë“œ íŒë³„ ë¶ˆê°€

```java
public void process(String type) {
    if (type.equals("A")) {
        daoA.select();  // ì‹¤ì œë¡œ í˜¸ì¶œë¨
    }
    if (false) {
        daoB.select();  // ì£½ì€ ì½”ë“œ - ì ˆëŒ€ ì‹¤í–‰ ì•ˆë¨
    }
}
```

- **í˜„ì¬**: daoA, daoB ëª¨ë‘ í˜¸ì¶œ íë¦„ì— í¬í•¨
- **ì´ìœ **: ì •ì  ë¶„ì„ìœ¼ë¡œëŠ” `if (false)` ê°™ì€ ëª…ë°±í•œ ê²½ìš°ë§Œ íŒë³„ ê°€ëŠ¥, ëŸ°íƒ€ì„ ì¡°ê±´ì€ íŒë³„ ë¶ˆê°€

#### ë™ì  SQL ID ì¶”ì¶œ ë¶ˆê°€

```java
// ì •ì  SQL ID - ì¶”ì¶œ ê°€ëŠ¥
dao.select("userDAO.selectUser", params);

// ë™ì  SQL ID - ì¶”ì¶œ ë¶ˆê°€
String sqlId = "userDAO." + methodName;
dao.select(sqlId, params);

// ìƒìˆ˜ ê¸°ë°˜ - ì¶”ì¶œ ë¶ˆê°€ (ìƒìˆ˜ ì¶”ì  ë¯¸êµ¬í˜„)
dao.select(SQL_ID_CONSTANT, params);
```

#### ë™ì  í…Œì´ë¸”ëª… ì¶”ì¶œ ë¶ˆê°€

```xml
<!-- ë™ì  í…Œì´ë¸”ëª… - ì¶”ì¶œ ë¶ˆê°€ -->
SELECT * FROM $tableName$ WHERE ...
SELECT * FROM ${schemaName}.TB_USER WHERE ...
```

### 7.4 í˜„ì¬ íŒŒë¼ë¯¸í„° ì¶”ì¶œ ì „ëµ

**ê²°ì •**: Controller íŒŒë¼ë¯¸í„° + SQL íŒŒë¼ë¯¸í„° í•©ì§‘í•©

| í•­ëª© | ì¶”ì¶œ ì—¬ë¶€ | ë°©ì‹ |
|------|----------|------|
| @RequestParam | âœ… | ì–´ë…¸í…Œì´ì…˜ ê°’ ì¶”ì¶œ |
| @PathVariable | âœ… | ì–´ë…¸í…Œì´ì…˜ ê°’ ì¶”ì¶œ |
| VO ì‚¬ìš© í•„ë“œ | âœ… | getter í˜¸ì¶œ ë¶„ì„ (userVO.getUserId() â†’ userId) |
| Map.get() í‚¤ | âœ… | ë¬¸ìì—´ ë¦¬í„°ëŸ´ë§Œ (params.get("key") â†’ key) |
| SQL #param# | âœ… | ì •ê·œì‹ íŒ¨í„´ ë§¤ì¹­ |
| SQL #{param} | âœ… | ì •ê·œì‹ íŒ¨í„´ ë§¤ì¹­ |
| ë¶„ê¸° ì¡°ê±´ íŒŒë¼ë¯¸í„° | âŒ | ë¯¸êµ¬í˜„ (í–¥í›„ ê³¼ì œ) |

**ì™œ í•©ì§‘í•©ì¸ê°€?**
- API í˜¸ì¶œ ì‹œ í•„ìš”í•œ íŒŒë¼ë¯¸í„° (Controller) + SQL ì‹¤í–‰ ì‹œ í•„ìš”í•œ íŒŒë¼ë¯¸í„° (SQL)
- ë‘ ì •ë³´ ëª¨ë‘ ì‚°ì¶œë¬¼ ì‘ì„±ì— ìœ ìš©
- ë¶„ê¸° íŒŒë¼ë¯¸í„° ëˆ„ë½ì€ ì¸ì •í•˜ë˜, ì‹¤ìš©ì  ë²”ìœ„ì—ì„œ ìµœëŒ€í•œ ì¶”ì¶œ

---

## 8. ë‹¤ì¤‘ êµ¬í˜„ì²´ ê²½ê³  ê¸°ëŠ¥

### 8.1 ë°°ê²½
ì •ì  ë¶„ì„ì—ì„œ ì¸í„°í˜ì´ìŠ¤ì— ì—¬ëŸ¬ êµ¬í˜„ì²´ê°€ ìˆì„ ê²½ìš°, ì‹¤ì œ ëŸ°íƒ€ì„ì— ì–´ë–¤ êµ¬í˜„ì²´ê°€ ì£¼ì…ë˜ëŠ”ì§€ ì•Œ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- Spring ì„¤ì • XML/Java Config
- í”„ë¡œíŒŒì¼(@Profile)
- ì¡°ê±´ë¶€ ë¹ˆ(@Conditional)
- ìš°ì„ ìˆœìœ„(@Primary, @Order)

ì´ ë„êµ¬ëŠ” **ì²« ë²ˆì§¸ ë°œê²¬ëœ êµ¬í˜„ì²´**ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ, ì‚¬ìš©ìì—ê²Œ ë‹¤ë¥¸ êµ¬í˜„ì²´ê°€ ì¡´ì¬í•¨ì„ ê²½ê³ í•©ë‹ˆë‹¤.

### 8.2 êµ¬í˜„ ë°©ì‹

```java
// FlowAnalyzer.java
private final Map<String, List<String>> multipleImplWarnings = new HashMap<>();

private void buildInterfaceMapping(List<ParsedClass> parsedClasses) {
    // 1. ëª¨ë“  êµ¬í˜„ì²´ ìˆ˜ì§‘
    Map<String, List<String>> interfaceToAllImpls = new HashMap<>();
    for (ParsedClass clazz : parsedClasses) {
        for (String interfaceName : clazz.getImplementedInterfaces()) {
            interfaceToAllImpls
                .computeIfAbsent(interfaceName, k -> new ArrayList<>())
                .add(clazz.getClassName());
        }
    }

    // 2. ì²« ë²ˆì§¸ êµ¬í˜„ì²´ë¥¼ ë§¤í•‘ì— ì‚¬ìš©
    // 3. 2ê°œ ì´ìƒì´ë©´ ê²½ê³  ëª©ë¡ì— ì¶”ê°€
    for (Map.Entry<String, List<String>> entry : interfaceToAllImpls.entrySet()) {
        if (entry.getValue().size() > 1) {
            multipleImplWarnings.put(entry.getKey(), entry.getValue());
        }
    }
}
```

### 8.3 ì¶œë ¥ í˜•ì‹

#### ì½˜ì†” ì¶œë ¥
```
â””â”€ [Service] UserServiceImpl.selectUserList()  â†UserService  (ì™¸ UserServiceV2, UserServiceV3)
```
- í˜„ì¬ ì‚¬ìš© ì¤‘ì¸ êµ¬í˜„ì²´(UserServiceImpl) ì œì™¸
- ë…¸ë€ìƒ‰ìœ¼ë¡œ ê°•ì¡°

#### ì—‘ì…€ ì¶œë ¥
| êµ¬ë¶„ | ë‚´ìš© |
|------|------|
| ê°•ì¡° ìƒ‰ìƒ | ì—°í•œ ì‚´êµ¬ìƒ‰ (#FFF0E0) |
| ë¹„ê³  ì¹¼ëŸ¼ | `ì™¸ UserServiceV2, UserServiceV3` |
| ìš”ì•½ ì‹œíŠ¸ | ê²½ê³  ì„¤ëª… + ì¸í„°í˜ì´ìŠ¤ë³„ êµ¬í˜„ì²´ ëª©ë¡ |

### 8.4 ìš”ì•½ ì‹œíŠ¸ ê²½ê³  ì„¹ì…˜
```
[ë‹¤ì¤‘ êµ¬í˜„ì²´ ê²½ê³ ]
â€» ì•„ë˜ ì¸í„°í˜ì´ìŠ¤ëŠ” ì—¬ëŸ¬ êµ¬í˜„ì²´ê°€ ì¡´ì¬í•©ë‹ˆë‹¤.
â€» ì •ì  ë¶„ì„ì˜ í•œê³„ë¡œ ì²« ë²ˆì§¸ êµ¬í˜„ì²´ ê¸°ì¤€ìœ¼ë¡œ ë¶„ì„ë˜ì—ˆìŠµë‹ˆë‹¤.
â€» ì‹¤ì œ ëŸ°íƒ€ì„ì— ë‹¤ë¥¸ êµ¬í˜„ì²´ê°€ ì‚¬ìš©ë  ìˆ˜ ìˆìœ¼ë‹ˆ í™•ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.

ì¸í„°í˜ì´ìŠ¤         êµ¬í˜„ì²´
UserService       UserServiceImpl, UserServiceV2, UserServiceV3
```

### 8.5 ì„¤ê³„ ê²°ì • ì´ìœ 

1. **í•´ê²°ë³´ë‹¤ ê²½ê³  ì„ íƒ**
   - ì–´ë–¤ êµ¬í˜„ì²´ê°€ ì‹¤ì œë¡œ ì‚¬ìš©ë˜ëŠ”ì§€ íŒë³„í•˜ë ¤ë©´ Spring ì„¤ì • íŒŒì‹± í•„ìš”
   - ë³µì¡ë„ ëŒ€ë¹„ ê°€ì¹˜ê°€ ë‚®ìŒ â†’ ê²½ê³ ë¡œ ì‚¬ìš©ìê°€ í™•ì¸í•˜ë„ë¡ ìœ ë„

2. **ì¸ë¼ì¸ í‘œì‹œ ì„ íƒ**
   - ì²˜ìŒ ì‹œë„: ìƒë‹¨ì— ìš”ì•½ ê²½ê³  â†’ ì–´ë–¤ Serviceì¸ì§€ íŒŒì•… ì–´ë ¤ì›€
   - ìµœì¢…: í•´ë‹¹ Service ë…¸ë“œ ì˜†ì— í‘œì‹œ â†’ ì§ê´€ì 

3. **ë¹„ê³  ì¹¼ëŸ¼ + ìš”ì•½ ì‹œíŠ¸ ì¡°í•©**
   - ë¹„ê³ : ê°„ê²°í•˜ê²Œ ë‹¤ë¥¸ êµ¬í˜„ì²´ ëª©ë¡
   - ìš”ì•½: ì²˜ìŒ ë³´ëŠ” ì‚¬ìš©ìë¥¼ ìœ„í•œ ìƒì„¸ ì„¤ëª…

---

## 9. ì„¤ì • ì €ì¥ ë° ë°°í¬

### 9.1 ì„¤ì • ì €ì¥ ë°©ì‹

#### í˜„ì¬ ìƒíƒœ (v1.1+)

> âœ… **í•´ê²° ì™„ë£Œ**: JSON ë‹¨ì¼ ì €ì¥ìœ¼ë¡œ í†µí•©ë¨ (2025-12-31)

| ì €ì¥ì†Œ | ì €ì¥ í•­ëª© |
|--------|----------|
| JSON íŒŒì¼ (`~/.code-flow-tracer/session.json`) | ìµœê·¼ ê²½ë¡œ, URL í•„í„°, ì¶œë ¥ ìŠ¤íƒ€ì¼, ë¶„ì„ ê²°ê³¼ |

- Registry (Preferences API) ì‚¬ìš© ì œê±°
- ëª¨ë“  ì„¤ì •ì´ JSON íŒŒì¼ í•˜ë‚˜ë¡œ í†µí•©ë¨
- GUI ì‚­ì œ ë©”ë‰´ë„ 1ê°œë¡œ í†µí•©: "ì„¤ì •/ì„¸ì…˜ ì´ˆê¸°í™”"

#### ì €ì¥ ë°©ì‹ ë¹„êµ

| í•­ëª© | Registry (Preferences API) | JSON íŒŒì¼ |
|------|---------------------------|-----------|
| í”Œë«í¼ | Windowsì—ì„œëŠ” Registry, ê¸°íƒ€ OSëŠ” íŒŒì¼ | ëª¨ë“  OSì—ì„œ ë™ì¼ |
| ì €ì¥ ìœ„ì¹˜ | `HKCU\Software\JavaSoft\Prefs\...` | `~/.code-flow-tracer/session.json` |
| ë³µì¡í•œ ê°ì²´ | âŒ ë¬¸ìì—´/ìˆ«ìë§Œ | âœ… ê°ì²´ ì§ë ¬í™” ê°€ëŠ¥ |
| ë°±ì—…/ì´ë™ | âŒ regedit ë‚´ë³´ë‚´ê¸° í•„ìš” | âœ… íŒŒì¼ ë³µì‚¬ë¡œ ê°€ëŠ¥ |
| ë””ë²„ê¹… | âŒ ë ˆì§€ìŠ¤íŠ¸ë¦¬ í¸ì§‘ê¸° í•„ìš” | âœ… í…ìŠ¤íŠ¸ ì—ë””í„°ë¡œ í™•ì¸ |
| ì‚­ì œ ì‹œ ì •ë¦¬ | WiX RemoveRegistryKey í•„ìš” | WiX RemoveFileë¡œ ê°„ë‹¨ |
| í‘œì¤€ API | âœ… Java í‘œì¤€ | âŒ Gson ì˜ì¡´ |

#### êµ¬í˜„ëœ í•´ê²° ë°©í–¥ (2025-12-31 ì™„ë£Œ)

**JSON ë‹¨ì¼ ì €ì¥ìœ¼ë¡œ í†µí•© ì™„ë£Œ**:

```json
// ~/.code-flow-tracer/session.json
{
  "projectPath": "/path/to/project",
  "recentPaths": ["/path1", "/path2"],  // Registryì—ì„œ ì´ë™
  "urlFilter": "/api/*",
  "outputStyle": "normal",
  "analyzedAt": "2025-12-31T14:30:00",
  "flowResult": { ... }
}
```

**í†µí•© ì‹œ ì¥ì **:
- ì„¤ì • ê´€ë¦¬ ì¼ì›í™”
- í¬ë¡œìŠ¤ í”Œë«í¼ ì™„ì „ ì§€ì›
- ë””ë²„ê¹…/ë°±ì—… ìš©ì´
- ì„¤ì¹˜ ì‚­ì œ ì‹œ ì •ë¦¬ ê°„ë‹¨
- GUI ë©”ë‰´ ë‹¨ìˆœí™” (ì‚­ì œ ë©”ë‰´ í†µí•©)

**GUI ë©”ë‰´ (í†µí•© ì™„ë£Œ)**:
```
ì„¤ì • ë²„íŠ¼ í´ë¦­ â†’ íŒì—… ë©”ë‰´:
â””â”€â”€ "ì„¤ì •/ì„¸ì…˜ ì´ˆê¸°í™”" â†’ JSON íŒŒì¼ ì‚­ì œ (sessionManager.clearSession())
```

- ê¸°ì¡´ 2ê°œ ë©”ë‰´ë¥¼ 1ê°œë¡œ í†µí•©
- ëª¨ë“  ì„¤ì •ê³¼ ë¶„ì„ ê²°ê³¼ê°€ í•¨ê»˜ ì‚­ì œë¨

**ë§ˆì´ê·¸ë ˆì´ì…˜ ì „ëµ**:
1. ì•± ì‹œì‘ ì‹œ Registryì—ì„œ ì„¤ì • ì½ê¸° ì‹œë„
2. ìˆìœ¼ë©´ JSONìœ¼ë¡œ ë§ˆì´ê·¸ë ˆì´ì…˜ í›„ Registry ì‚­ì œ
3. ì—†ìœ¼ë©´ JSONì—ì„œë§Œ ë¡œë“œ
4. WiXì˜ Registry ì •ë¦¬ ë¡œì§ì€ 1~2 ë²„ì „ê°„ ìœ ì§€ (ì´ì „ ë²„ì „ ì‚¬ìš©ì ëŒ€ì‘)
5. GUI ì‚­ì œ ë©”ë‰´ í†µí•© (2ê°œ â†’ 1ê°œ)

#### í˜„ì¬ Registry ì €ì¥ êµ¬í˜„ (Session 13)

```java
// MainFrame.java
private final Preferences prefs = Preferences.userNodeForPackage(MainFrame.class);

// ì €ì¥
prefs.put("recentPaths", String.join("|", paths));
prefs.put("urlFilter", filterText);
prefs.put("outputStyle", "normal");

// ë¡œë“œ
String pathsStr = prefs.get("recentPaths", "");
```

**ì €ì¥ ìœ„ì¹˜** (OSë³„):
| OS | ì €ì¥ ìœ„ì¹˜ |
|----|----------|
| Windows | `HKCU\Software\JavaSoft\Prefs\com\codeflow\ui` |
| Linux | `~/.java/.userPrefs/com/codeflow/ui/` |
| macOS | `~/Library/Preferences/com.codeflow.ui.plist` |

**ì €ì¥ í•­ëª©**:
- `recentPaths`: ìµœê·¼ í”„ë¡œì íŠ¸ ê²½ë¡œ (ìµœëŒ€ 10ê°œ, `|`ë¡œ êµ¬ë¶„)
- `urlFilter`: URL í•„í„° íŒ¨í„´
- `outputStyle`: ì¶œë ¥ ìŠ¤íƒ€ì¼ (compact/normal/detailed)

**ì„¤ê³„ ê²°ì • ì´ìœ  (ë‹¹ì‹œ)**:
- Java í‘œì¤€ APIë¡œ í¬ë¡œìŠ¤ í”Œë«í¼ ì§€ì›
- ë³„ë„ ì„¤ì • íŒŒì¼ ê´€ë¦¬ ë¶ˆí•„ìš”
- ì„¤ì¹˜ í´ë”(Program Files)ì—ëŠ” ì“°ê¸° ê¶Œí•œì´ ì—†ì–´ ì™¸ë¶€ ì €ì¥ í•„ìš”

**ì™œ JSONìœ¼ë¡œ í†µí•©í•´ì•¼ í•˜ëŠ”ê°€**:
- Session 18ì—ì„œ FlowResult ì €ì¥ì„ ìœ„í•´ JSON ë„ì…
- ë³µì¡í•œ ê°ì²´ ì €ì¥ì—ëŠ” JSONì´ í•„ìˆ˜
- ë‘ ì €ì¥ì†Œ ê´€ë¦¬ëŠ” ë³µì¡ë„ ì¦ê°€
- ìƒì„¸ ë¶„ì„ì€ [ISSUES.md #020](ISSUES.md) ì°¸ì¡°

### 9.2 ì„¤ì¹˜ íŒŒì¼ (jpackage)

**ë¹Œë“œ ë°©ì‹**: JDK ë‚´ì¥ jpackage + WiX Toolset 3.14

```bash
./gradlew jpackage
# ì¶œë ¥: build/installer/CFT-1.0.0.exe (ì•½ 77MB)
```

**í¬í•¨ ë‚´ìš©**:
- ì• í”Œë¦¬ì¼€ì´ì…˜ JAR (code-flow-tracer.jar)
- ë²ˆë“¤ JRE (Java 17 ëŸ°íƒ€ì„)
- ë„¤ì´í‹°ë¸Œ ëŸ°ì²˜ (CFT.exe)

**ì»¤ìŠ¤í„°ë§ˆì´ì§• íŒŒì¼** (`installer-resources/`):
| íŒŒì¼ | ìš©ë„ |
|------|------|
| `main.wxs` | ë©”ì¸ WiX í”„ë¡œì íŠ¸ (ë ˆì§€ìŠ¤íŠ¸ë¦¬ ì •ë¦¬ ì¶”ê°€) |
| `ShortcutPromptDlg.wxs` | ë°”ë¡œê°€ê¸° ì„ íƒ ë‹¤ì´ì–¼ë¡œê·¸ (ê°„ê²© ìˆ˜ì •) |

### 9.3 ì„¤ì¹˜ ì‚­ì œ ì‹œ ì •ë¦¬

**ìë™ ì •ë¦¬ í•­ëª©** (WiX RemoveRegistryKey):
```
HKCU\Software\JavaSoft\Prefs\com\codeflow\ui  â† ì„¤ì •ê°’
HKCU\Software\JavaSoft\Prefs\com\codeflow     â† ìƒìœ„ í´ë”
HKCU\Software\CFT                              â† ì„¤ì¹˜ ë§ˆì»¤
```

**ìˆ˜ë™ ì‚­ì œ ë°©ë²•** (ì„¤ì¹˜ íŒŒì¼ ì—†ì´ JARë¡œ ì‚¬ìš©í•œ ê²½ìš°):
1. `Win + R` â†’ `regedit` ì‹¤í–‰
2. `HKEY_CURRENT_USER\Software\JavaSoft\Prefs\com\codeflow` ë¡œ ì´ë™
3. `codeflow` í´ë” ì‚­ì œ

ë˜ëŠ” PowerShell:
```powershell
Remove-Item -Path "HKCU:\Software\JavaSoft\Prefs\com\codeflow" -Recurse
```

---

## 10. ì„¸ì…˜ ì˜ì†ì„± (v1.1) âœ… - [#15](https://github.com/KBroJ/Code-Flow-Tracer/issues/15)

### 10.1 ê°œìš”

ì•± ì¢…ë£Œ í›„ ì¬ì‹œì‘í•´ë„ ë§ˆì§€ë§‰ ë¶„ì„ ê²°ê³¼ê°€ ìœ ì§€ë˜ì–´ ë°”ë¡œ ì´ì–´ì„œ ì‘ì—… ê°€ëŠ¥

### 10.2 ì €ì¥ í•­ëª©

| í•­ëª© | ì €ì¥ ìœ„ì¹˜ | í˜•ì‹ |
|------|----------|------|
| í”„ë¡œì íŠ¸ ê²½ë¡œ | Preferences | String |
| ë¶„ì„ ê²°ê³¼ (FlowResult) | íŒŒì¼ | JSON |
| URL í•„í„° | Preferences | String |
| ì¶œë ¥ ìŠ¤íƒ€ì¼ | Preferences | String |

### 10.3 ì„¸ì…˜ íŒŒì¼ ê²½ë¡œ

```
~/.code-flow-tracer/session.json
```

### 10.4 JSON êµ¬ì¡°

```json
{
  "projectPath": "/path/to/project",
  "analyzedAt": "2025-12-30T14:30:00",
  "results": [
    {
      "urlPattern": "/api/user/list",
      "httpMethod": "GET",
      "parameters": ["userId", "pageNo"],
      "rootNode": {
        "className": "UserController",
        "methodName": "selectUserList",
        "classType": "CONTROLLER",
        "children": [...]
      }
    }
  ]
}
```

### 10.5 ë™ì‘ íë¦„

```
ì•± ì‹œì‘
  â†“
ì„¸ì…˜ íŒŒì¼ ì¡´ì¬?
  â”œâ”€â”€ Yes â†’ JSON ì—­ì§ë ¬í™” â†’ ê²°ê³¼ íŒ¨ë„ì— í‘œì‹œ
  â””â”€â”€ No  â†’ ë¹ˆ í™”ë©´

ë¶„ì„ ì‹¤í–‰
  â†“
FlowResult ìƒì„±
  â†“
JSON ì§ë ¬í™” â†’ session.json ì €ì¥
```

### 10.6 êµ¬í˜„ í´ë˜ìŠ¤

```java
// ì‹ ê·œ í´ë˜ìŠ¤
public class SessionManager {
    private static final Path SESSION_FILE =
        Paths.get(System.getProperty("user.home"), ".code-flow-tracer", "session.json");

    public void saveSession(SessionData data);
    public SessionData loadSession();
    public void clearSession();
}

public class SessionData {
    String projectPath;
    LocalDateTime analyzedAt;
    List<FlowResult> results;
}
```

### 10.7 ë¼ì´ë¸ŒëŸ¬ë¦¬

- **Gson** (com.google.code.gson:gson:2.10.1)
  - ì„ íƒ ì´ìœ : ê°€ë³ê³ , ì¶”ê°€ ì˜ì¡´ì„± ì—†ìŒ, ì§ê´€ì ì¸ API

---

## 11. ì‘ì—… ê´€ë¦¬ íƒ­ (v1.1) - [#16](https://github.com/KBroJ/Code-Flow-Tracer/issues/16)

### 11.1 ê°œìš”

íì‡„ë§ SI í™˜ê²½ì—ì„œ Notion, Jira ë“±ì„ ì‚¬ìš©í•  ìˆ˜ ì—†ëŠ” ìƒí™©ì„ ìœ„í•œ ë‚´ì¥ ì‘ì—… ê´€ë¦¬ ë„êµ¬

### 11.2 UI ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [ë¶„ì„ ê²°ê³¼]  [ì‘ì—… ê´€ë¦¬]                                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [+ ì´ìŠˆ ì¶”ê°€]                                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     ğŸ“‹ í•  ì¼ (3)   â”‚   ğŸ”„ ì§„í–‰ ì¤‘ (1)   â”‚     âœ… ì™„ë£Œ (5)          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ CFT-004       â”‚ â”‚ â”‚ CFT-003       â”‚ â”‚ â”‚ ~~CFT-001~~         â”‚ â”‚
â”‚ â”‚ ì„¸ì…˜ ì˜ì†ì„±    â”‚ â”‚ â”‚ ë¸”ë¡œê·¸ ì‘ì„±    â”‚ â”‚ â”‚ ~~MVP ê°œë°œ~~        â”‚ â”‚
â”‚ â”‚ ğŸ”´ ë†’ìŒ       â”‚ â”‚ â”‚ ğŸŸ¡ ë³´í†µ       â”‚ â”‚ â”‚ 2025-12-25 ì™„ë£Œ     â”‚ â”‚
â”‚ â”‚ ~12/31       â”‚ â”‚ â”‚ ~12/30       â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚                   â”‚ â”‚ ~~CFT-002~~         â”‚ â”‚
â”‚ â”‚ CFT-005       â”‚ â”‚                   â”‚ â”‚ ~~GUI êµ¬í˜„~~         â”‚ â”‚
â”‚ â”‚ ì¹¸ë°˜ ë³´ë“œ êµ¬í˜„  â”‚ â”‚                   â”‚ â”‚ 2025-12-26 ì™„ë£Œ     â”‚ â”‚
â”‚ â”‚ ğŸŸ¡ ë³´í†µ       â”‚ â”‚                   â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â”‚ ~01/02       â”‚ â”‚                   â”‚                         â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚                   â”‚                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
         ì´ìŠˆ ì¹´ë“œ í´ë¦­ ì‹œ ìƒì„¸ íŒ¨ë„ í‘œì‹œ
                              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ì´ìŠˆ ìƒì„¸                                         [ì €ì¥] [ì‚­ì œ] â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ë²ˆí˜¸: CFT-003                                                   â”‚
â”‚  ì œëª©: [ë¸”ë¡œê·¸ ì‘ì„±                                        ]     â”‚
â”‚  ì„¤ëª…: [í˜¸ì¶œíë¦„ ì¬ê·€íƒìƒ‰ ë¸”ë¡œê·¸ í¬ìŠ¤íŠ¸ ì‘ì„±              ]     â”‚
â”‚        [                                                  ]     â”‚
â”‚  ìƒíƒœ: [ì§„í–‰ ì¤‘ â–¼]  (ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ë³€ê²½)                          â”‚
â”‚  ìš°ì„ ìˆœìœ„: [ğŸŸ¡ ë³´í†µ â–¼]                                           â”‚
â”‚  ì‹œì‘ì¼: [2025-12-28]  ë§ˆê°ì¼: [2025-12-30]                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 11.3 ë°ì´í„° ëª¨ë¸

```java
public class Issue {
    String issueId;          // CFT-001, CFT-002...
    String title;            // ì œëª©
    String description;      // ì„¤ëª… (ì—¬ëŸ¬ ì¤„)
    IssueStatus status;      // TODO, IN_PROGRESS, DONE
    IssuePriority priority;  // HIGH, MEDIUM, LOW
    LocalDate startDate;     // ì‹œì‘ì¼
    LocalDate dueDate;       // ë§ˆê°ì¼
    LocalDateTime createdAt; // ìƒì„±ì¼ì‹œ
    LocalDateTime updatedAt; // ìˆ˜ì •ì¼ì‹œ
}

public enum IssueStatus {
    TODO("í•  ì¼"),
    IN_PROGRESS("ì§„í–‰ ì¤‘"),
    DONE("ì™„ë£Œ");
}

public enum IssuePriority {
    HIGH("ğŸ”´ ë†’ìŒ"),
    MEDIUM("ğŸŸ¡ ë³´í†µ"),
    LOW("ğŸŸ¢ ë‚®ìŒ");
}
```

### 11.4 ì €ì¥ êµ¬ì¡°

```
~/.code-flow-tracer/issues.json
```

```json
{
  "nextIssueNumber": 6,
  "issues": [
    {
      "issueId": "CFT-001",
      "title": "MVP ê°œë°œ",
      "description": "ê¸°ë³¸ íŒŒì‹± ë° ë¶„ì„ ê¸°ëŠ¥ êµ¬í˜„",
      "status": "DONE",
      "priority": "HIGH",
      "startDate": "2025-12-16",
      "dueDate": "2025-12-25",
      "createdAt": "2025-12-16T09:00:00",
      "updatedAt": "2025-12-25T18:30:00"
    }
  ]
}
```

### 11.5 ê¸°ëŠ¥ ëª©ë¡

| ê¸°ëŠ¥ | ì„¤ëª… |
|------|------|
| ì´ìŠˆ ì¶”ê°€ | + ë²„íŠ¼ìœ¼ë¡œ ìƒˆ ì´ìŠˆ ìƒì„±, ìë™ ë²ˆí˜¸ ë¶€ì—¬ (CFT-XXX) |
| ì´ìŠˆ ìˆ˜ì • | ì¹´ë“œ í´ë¦­ â†’ ìƒì„¸ íŒ¨ë„ì—ì„œ í¸ì§‘ |
| ì´ìŠˆ ì‚­ì œ | ìƒì„¸ íŒ¨ë„ì—ì„œ ì‚­ì œ ë²„íŠ¼ |
| ìƒíƒœ ë³€ê²½ | ë“œë¡­ë‹¤ìš´ìœ¼ë¡œ ìƒíƒœ ë³€ê²½ (ì¹¸ë°˜ ì»¬ëŸ¼ ì´ë™) |
| ì·¨ì†Œì„  í‘œì‹œ | ì™„ë£Œ ìƒíƒœ ì´ìŠˆëŠ” ì œëª©ì— ì·¨ì†Œì„  |
| ìš°ì„ ìˆœìœ„ í‘œì‹œ | ì¹´ë“œì— ì•„ì´ì½˜ìœ¼ë¡œ í‘œì‹œ |
| ë§ˆê°ì¼ í‘œì‹œ | ì¹´ë“œ í•˜ë‹¨ì— ê°„ëµíˆ í‘œì‹œ |
| ë°ì´í„° ì˜ì†ì„± | JSON íŒŒì¼ë¡œ ì €ì¥/ë¶ˆëŸ¬ì˜¤ê¸° |

### 11.6 êµ¬í˜„ í´ë˜ìŠ¤

```
com.codeflow.ui/
â”œâ”€â”€ MainFrame.java          # íƒ­ ì¶”ê°€
â”œâ”€â”€ TaskPanel.java          # ì‘ì—… ê´€ë¦¬ ë©”ì¸ íŒ¨ë„ (ì‹ ê·œ)
â”œâ”€â”€ KanbanColumn.java       # ì¹¸ë°˜ ì»¬ëŸ¼ (ì‹ ê·œ)
â”œâ”€â”€ IssueCard.java          # ì´ìŠˆ ì¹´ë“œ ì»´í¬ë„ŒíŠ¸ (ì‹ ê·œ)
â”œâ”€â”€ IssueDetailPanel.java   # ì´ìŠˆ ìƒì„¸/í¸ì§‘ íŒ¨ë„ (ì‹ ê·œ)
â””â”€â”€ IssueManager.java       # ì´ìŠˆ CRUD + ì €ì¥/ë¡œë“œ (ì‹ ê·œ)
```

### 11.7 ì„¤ê³„ ê²°ì •

**ì™œ ë“œë˜ê·¸ì•¤ë“œë¡­ì´ ì•„ë‹Œ ë“œë¡­ë‹¤ìš´ì¸ê°€?**
- Swingì—ì„œ ë“œë˜ê·¸ì•¤ë“œë¡­ êµ¬í˜„ ë³µì¡ë„ ë†’ìŒ
- ë“œë¡­ë‹¤ìš´ë„ 1í´ë¦­ìœ¼ë¡œ ìƒíƒœ ë³€ê²½ ê°€ëŠ¥
- êµ¬í˜„ ì‹œê°„ ë‹¨ì¶• (2-3ì¼ â†’ 1-2ì¼)

**ì™œ ë³„ë„ íƒ­ì¸ê°€?**
- ë¶„ì„ ê²°ê³¼ì™€ ì‘ì—… ê´€ë¦¬ëŠ” ë…ë¦½ì  ê¸°ëŠ¥
- íƒ­ìœ¼ë¡œ ë¶„ë¦¬í•˜ì—¬ UI ë³µì¡ë„ ê°ì†Œ
- í–¥í›„ í™•ì¥ ìš©ì´ (ë‹¤ë¥¸ í”„ë¡œì íŠ¸ì˜ ì‘ì—…ë„ ê´€ë¦¬ ê°€ëŠ¥)

# 진행 상황 (Development Log)

> 토스 러너스하이 2기 프로젝트 개발 일지
> 주별 상세 내용은 [dev-log](./dev-log/) 폴더 참조

---

## 목차

| Week | 기간 | 핵심 주제 | 상세 |
|------|------|----------|------|
| [Week 1](./dev-log/WEEK1.md) | 12/17~12/18 | 프로젝트 기획 및 핵심 기능 | Session 1-4 |
| [Week 2](./dev-log/WEEK2.md) | 12/18~12/22 | iBatis/MyBatis 파싱, Excel 출력 | Session 5-8 |
| [Week 3](./dev-log/WEEK3.md) | 12/22~12/26 | GUI 구현 및 배포 | Session 9-17 |
| [Week 4](./dev-log/WEEK4.md) | 12/30~12/31 | 세션 영속성, 기술 부채 청산 | Session 18-21 |
| Week 5 (현재) | 01/03~ | CRUD 분석 기능, 블로그 | Session 22-27 |

---

## 전체 타임라인

```
Week 1: 설계 + 기본 파서 ████████████████████ 100%
Week 2: iBatis + 출력   ████████████████████ 100%
Week 3: GUI + 테스트    ████████████████████ 100%
Week 4: 세션 영속성     ████████████████████ 100%
Week 5: CRUD 분석       ████████████████░░░░ 80%
```

---

## 핵심 지표

| 지표 | 현재 | 목표 |
|------|------|------|
| 구현된 기능 | 18/18 | 18/18 |
| 테스트 통과율 | 100% | 100% |
| 문서 완성도 | 100% | 100% |
| 코드 커버리지 | - | 80% |

### 완료된 기능
- ✅ 호출 흐름 추적 (Controller → Service → DAO)
- ✅ iBatis/MyBatis XML 파싱
- ✅ 콘솔 출력 (트리 형태 + ANSI 색상)
- ✅ 엑셀 출력 (호출 흐름 + SQL 목록)
- ✅ URL 패턴 필터링
- ✅ 파라미터 표시
- ✅ 인터페이스 → 구현체 매핑
- ✅ SQL 쿼리 원본 형태 출력 (동적 SQL 태그 포함)
- ✅ CLI 통합 (Picocli)
- ✅ Windows 한글 인코딩 지원
- ✅ README 데모 섹션 (스크린샷)
- ✅ 다중 구현체 경고 (콘솔 + 엑셀)
- ✅ Swing GUI (프로젝트 선택, 분석 실행, 결과 트리 표시)
- ✅ GUI 개선 (다크 테마, 콘솔 스타일, 설정 저장)
- ✅ GUI UX 개선 (리사이즈, 레이아웃, 폰트 조절)
- ✅ jpackage Windows 설치파일 (.exe)
- ✅ 애플리케이션 아이콘
- ✅ GitHub Release v1.0.0

### 예정된 기능
- [x] CRUD 타입별 필터링 (#22) - 완료
- [x] 테이블 중심 분석 (#23) - 완료 (GUI 탭 제외)
- [ ] CRUD 통계 대시보드 (#24)

---

## Week 5 (현재)

### 2026-01-03 (금) - Session 22

#### Session 22: CRUD 분석 기능 요구사항 정의 및 GitHub 이슈 등록

**문제**: 각 플랫폼이 어떤 테이블에 어떤 CRUD를 수행하는지 파악 필요
**해결**: 범용적인 CRUD 분석 기능 3개 도출 및 이슈 등록

**오늘 한 일**
1. 요구사항 브레인스토밍 (Strangler Fig 패턴 등 조사)
2. 범용적 기능 3개 도출 (특화 기능 제외)
3. GitHub 이슈 등록:
   - [#22](https://github.com/KBroJ/Code-Flow-Tracer/issues/22): CRUD 타입별 필터링
   - [#23](https://github.com/KBroJ/Code-Flow-Tracer/issues/23): 테이블 중심 분석
   - [#24](https://github.com/KBroJ/Code-Flow-Tracer/issues/24): CRUD 통계 대시보드

**기술적 검토**
| 기능 | 기존 데이터 활용 | 난이도 |
|------|----------------|--------|
| CRUD 필터링 | SqlInfo.SqlType enum 존재 | 낮음 |
| 테이블 중심 분석 | SqlInfo.tables 존재 | 중간 |
| CRUD 통계 | 기존 데이터 집계 | 낮음 |

**배운 점**
- 범용성 vs 특화: 범용적 기능이 도구 가치를 높임
- Strangler Fig 패턴: 레거시 마이그레이션의 표준 접근법

---

### 2026-01-04 (토) ~ 2026-01-06 (월) - Session 23

#### Session 23: 기술 블로그 4편 및 문서 정리

**문제**: 기술 블로그 시리즈 완성 + DEV_LOG 문서 관리 어려움
**해결**: 블로그 발행 및 DEV_LOG 주별 분할

**오늘 한 일**
1. **기술 블로그 4편(#58) 발행 완료**
   - 제목: "정적 분석의 한계 - 해결할 수 없는 것들"
   - URL: https://kbroj9210.tistory.com/58
   - 핵심: 정적 vs 동적 분석 트레이드오프, 다중 구현체 경고, 순환참조 백트래킹

2. **블로그 제목 일관성 수정**
   - #57: "DAO에서 SQL까지 - XML 파싱으로 연결하기"
   - #58: "정적 분석의 한계 - 해결할 수 없는 것들"
   - 전체 시리즈 대시(-) 형식으로 통일

3. **블로그 이미지/움짤 추가**
   - #57: "But wait, there's more" GIF
   - #58: "모른다" 표정 GIF

4. **전체 블로그 시리즈 검토 (#54~#58)**
   - 제목 일관성, 이미지, 톤, 구조 확인 완료

5. **DEV_LOG 주별 분할 완료**
   - 문제: DEV_LOG.md가 31,000+ 토큰으로 읽기 어려움
   - 해결: 주별 파일로 분할 (WEEK1~4.md)
   - 형식: "문제 → 해결" 중심 구조로 재구성
   - 결과: 목차 + 현재 주(Week 5)만 DEV_LOG.md에 유지

**배운 점**
1. **블로그 시리즈 스타일 일관성**
   - 개별 글이 좋아도 시리즈로 볼 때 일관성 없으면 어색함
   - 구조(섹션 수), 톤(비유 사용), 형식(제목 스타일) 통일 필요

2. **문서화된 개발 로그의 활용**
   - DEV_LOG, ISSUES에 기록해둔 내용이 블로그 자료로 바로 활용
   - 개발 당시 고민했던 내용을 정확히 재현 가능

3. **문서 분할의 효과**
   - 주별 분할로 특정 시점 작업 내용 빠르게 탐색 가능
   - "문제 → 해결" 구조가 면접 대비에도 유용

**다음 할 일**
- [ ] CRUD 필터링 기능 구현 (#22)
- [ ] 러너스하이 마무리 회고 글 작성

---

### 2026-01-07 (화) - Session 24

#### Session 24: 기술 블로그 5편 초안 작성 (CLI 출력 구현기)

**문제**: 기술 블로그 시리즈에서 CLI 출력 관련 글이 부족
**해결**: CLI/GUI 개념부터 Picocli 사용법까지 초보자 친화적 초안 작성

**오늘 한 일**
1. **기술5 CLI 블로그 초안 작성** (`docs/blog/초안/06-분석결과를어떻게보여줄까-CLI출력구현기.md`)
   - 제목: "분석 결과를 어떻게 보여줄까? - CLI 출력 구현기"
   - 비유: "메모장 vs VS Code" (터미널용 신택스 하이라이팅)

2. **CLI/GUI 개념 설명 추가**
   - CLI vs GUI 비교표
   - Java에서 CLI 만드는 방법 3가지 (직접 파싱, Commons CLI, Picocli)
   - 왜 Picocli를 선택했는가? 6가지 기준 비교

3. **Picocli 튜토리얼 추가**
   - 개념 설명 (pico = 10^-12)
   - 의존성 추가 → 기본 구조 → 실행 예시
   - @Command, @Option 어노테이션 설명

4. **기존 블로그 스타일 분석 및 반영**
   - 티스토리 #55~#58 분석
   - 비유 추가 (기존 글에 비해 비유 부족 → 개선)
   - 3줄 요약 위아래 구분선 추가

5. **블로그 검토 및 개선**
   - 시리즈 연결: 박스 형태 → 자연스러운 문장으로 수정
   - 비유 확장: 박스 문자, ANSI 색상, Windows 인코딩 섹션에 비유 연결
   - "이 글을 쓰며 성장한 점" 섹션 추가
   - 면접 질문/참고 자료 섹션 삭제 (블로그에 불필요)

6. **티스토리 발행 완료**: [#59](https://kbroj9210.tistory.com/59)

**블로그 최종 구조 (10개 섹션)**
| 섹션 | 내용 |
|------|------|
| 1. 들어가며 | 시리즈 연결, 비유, CLI 먼저 만든 이유 |
| 2. CLI란 무엇인가? | CLI vs GUI, Java CLI 구현 방법 |
| 3. Picocli 사용법 | 개념, 의존성, 기본 구조 |
| 4. 프로젝트에 적용하기 | 직접 파싱 → Picocli 적용 |
| 5. 박스 문자 | `├── └── │` 트리 구조 (비유 연결) |
| 6. ANSI 색상 | 이스케이프 시퀀스, 레이어별 색상 (비유 연결) |
| 7. Windows 인코딩 | CP949 vs UTF-8, 4가지 해결법 (비유 연결) |
| 8. 한글 폭 계산 | UnicodeBlock으로 CJK 판별 |
| 9. 프로젝트에서 활용 | 출력 스타일, 다중 구현체 경고 |
| 10. 마치며 | 정리표, 삽질 포인트, 성장한 점 |

**배운 점**
1. **초보자 친화적 글쓰기**: 개념 설명 → 선택지 비교 → 튜토리얼 순서가 효과적
2. **비유의 힘**: "메모장 vs VS Code"가 "터미널 출력 포맷팅"보다 이해하기 쉬움
3. **러너스하이 취지**: "왜 이 기술을 선택했는가?" 질문에 답할 수 있어야 함
4. **블로그 스타일 일관성**: 기존 글(#55~#58)과 시리즈 연결, 비유 사용 방식 통일

---

### 2026-01-10 (금) ~ 2026-01-11 (토) - Session 25

#### Session 25: 기술 블로그 6편 작성 (Excel 출력 - Apache POI 활용기)

**문제**: 기술 블로그 시리즈에서 Excel 출력 관련 글이 부족
**해결**: 산출물 작성 참고용 레퍼런스 관점으로 초안 작성 및 발행

**오늘 한 일**
1. **기술6 Excel 블로그 초안 작성** (`docs/blog/초안/07-Excel출력-ApachePOI로결과정리.md`)
   - 제목: "분석 결과를 Excel로 정리하기 - Apache POI 활용기"
   - 비유: "도서관에서 매번 책 찾기 vs 정리된 색인집", "족보 vs 명단"

2. **사용자 피드백 반영 - 동기 부분 수정**
   - 기존: "PM 보고용 Excel" (잘못된 방향)
   - 수정: "산출물 작성 시 복사/붙여넣기, 필터링으로 참고할 레퍼런스"
   - 추가: DBMS 이관 프로젝트 → 양방향 동기화 → CRUD 분석 필요

3. **타겟 독자 수정**
   - 기존: "누가 이 문서를 볼 것인가?" (PM, 관리자 등)
   - 수정: "개발자가 언제 이 Excel을 쓸까?" (산출물 작성 시 참고)

4. **실제 구현과 맞게 컬럼 구조 수정**
   - 호출 흐름 시트: No, HTTP, URL, Controller 파일/메소드, Service 파일, ServiceImpl 파일/메소드, DAO 파일/메소드, SQL 파일, 비고
   - SQL 목록 시트: No, 호출 URL, SQL 파일, SQL ID, 타입, 테이블, SQL 파라미터, 쿼리

5. **Excel 출력 실행 및 스크린샷 촬영**
   - 샘플 프로젝트로 Excel 생성 (`blog-excel-demo.xlsx`)
   - 호출 흐름 시트, SQL 목록 시트 스크린샷 촬영

6. **티스토리 발행 및 검토 완료**: [#60](https://kbroj9210.tistory.com/60)
   - PC/모바일 렌더링 확인: 스크린샷, 표, 코드 블록 모두 정상

**블로그 최종 구조 (11개 섹션)**
| 섹션 | 내용 |
|------|------|
| 1. 들어가며 | 시리즈 연결, 산출물 수작업 문제, CRUD 분석 필요, 왜 Excel |
| 2. Apache POI란? | 정의, 선택 이유, 의존성 |
| 3. Apache POI 기본 구조 | Workbook → Sheet → Row → Cell, 스타일 |
| 4. 시트 구성 전략 | 3개 시트 (요약/호출흐름/SQL) |
| 5. 계층 구조 → 평면 테이블 | 필터링 편의, 평면화 로직 |
| 6. 레이어별 색상 구분 | Controller=녹색, Service=파랑, DAO=보라 |
| 7. 파라미터 표시 문제 | Controller + SQL 합집합 |
| 8. 동적 SQL 원본 출력 | XML 태그 유지 |
| 9. 자동 필터와 컬럼 너비 | setAutoFilter, autoSizeColumn |
| 10. 프로젝트에서 활용 | 실제 스크린샷 |
| 11. 마치며 | 정리표, 삽질 포인트, 다음 글 예고 |

**배운 점**
1. **실무 경험 기반 동기**: "PM 보고용"보다 "내가 산출물 쓸 때 참고"가 진정성 있음
2. **타겟 독자 명확화**: 누가 볼지보다 "언제 쓸지"가 더 명확한 기준
3. **블로그 vs 실제 구현 일치**: 초안 작성 시 실제 코드 확인 필수
4. **스크린샷의 힘**: 표보다 실제 Excel 스크린샷이 훨씬 설득력 있음

**실무 피드백 - 테이블 중심 역추적 기능 (#23)**

프로젝트 투입 후 동일한 요구사항 확인:
> "하나의 테이블에 CRUD하는 곳이 어디있는지 찾는 기능이 필요하다"

- **현재**: API URL → DAO → SQL (Top-Down)
- **요청**: 테이블 → 어떤 코드가 접근하는가? (Bottom-Up)

**사용 시나리오**:
- DBMS 이관 프로젝트에서 양방향 동기화 대상 테이블 선정
- 특정 테이블 스키마 변경 시 영향 범위 파악
- 데이터 이상 발생 시 원인 코드 추적

**구현 가능성**: ✅ 가능
- 기존 `SqlInfo.tables`와 `SqlInfo.SqlType` 활용
- 역방향 인덱싱(`Map<테이블명, List<접근정보>>`) 구축 필요
- GitHub 이슈 #23에 실무 피드백 코멘트 추가 완료

**다음 할 일**
- [x] CRUD 필터링 기능 구현 (#22)
- [x] 테이블 중심 분석 기능 구현 (#23) ← 실무 피드백 반영
- [ ] 러너스하이 마무리 회고 글 작성
- [ ] (선택) 기술7 Swing GUI 블로그

---

### 2026-01-12 (일) - Session 26

#### Session 26: CRUD 필터링 (#22) 및 테이블 중심 분석 (#23) 구현

**문제**: 실무에서 CRUD 타입별 필터링 및 테이블 역추적 기능 필요
**해결**: #22, #23 이슈 기능 구현 완료

**오늘 한 일**
1. **#22 CRUD 타입별 필터링 구현**
   - CLI: `--sql-type SELECT,INSERT,UPDATE,DELETE` 옵션 추가
   - FlowAnalyzer: `filterBySqlType()` 메서드 추가
   - GUI: SQL 타입 체크박스 (SELECT/INSERT/UPDATE/DELETE) 추가
   - 엑셀: 호출 흐름 시트에 CRUD 타입 컬럼 추가
   - 세션: CRUD 필터 상태 저장/복원

2. **#23 테이블 중심 분석 구현**
   - FlowAnalyzer: 테이블 역방향 인덱싱 (`buildTableIndex()`, `TableImpact`, `TableAccess`)
   - CLI: `--table TB_USER` (특정 테이블 접근 흐름만 표시)
   - CLI: `--list-tables` (테이블 목록 + CRUD 통계 출력)
   - 엑셀: "테이블 영향도" 시트 추가 (테이블별 접근 횟수, CRUD 통계, URL/SQL ID)

3. **FlowNode에 유틸리티 메서드 추가**
   - `copy()`: 노드 복사 (자식 제외)
   - `clearChildren()`: 자식 노드 초기화

**구현 상세**

| 기능 | 구현 위치 | 내용 |
|------|----------|------|
| `--sql-type` | Main.java:77-78 | Picocli 옵션 (콤마 split) |
| `filterBySqlType()` | FlowAnalyzer.java:122-212 | SQL 타입 필터링 로직 |
| CRUD 체크박스 | MainFrame.java:79-83, 181-189 | SELECT/INSERT/UPDATE/DELETE |
| CRUD 컬럼 | ExcelOutput.java:239, 275, 362-364 | 호출 흐름 시트 |
| `buildTableIndex()` | FlowAnalyzer.java:628-644 | 테이블 역방향 인덱싱 |
| `--table` | Main.java:80-81 | 테이블 필터링 옵션 |
| `--list-tables` | Main.java:83-84, 328-384 | 테이블 목록 출력 |
| 테이블 영향도 시트 | ExcelOutput.java:489-580 | 테이블별 접근 정보 |

**배운 점**
1. **기존 데이터 활용**: SqlInfo.SqlType, SqlInfo.tables가 이미 존재하여 새로운 파싱 없이 구현 가능
2. **역방향 인덱싱**: `Map<테이블명, List<접근정보>>` 구조로 빠른 조회 가능
3. **FlowNode 복사**: 필터링 시 원본 수정 방지를 위해 copy() 메서드 필요

**다음 할 일**
- [ ] CRUD 필터 실시간 적용 (#025)
- [ ] GUI 테이블 영향도 탭 추가 (복잡한 UI 변경으로 추후 진행)
- [ ] CRUD 통계 대시보드 (#24)
- [ ] 러너스하이 마무리 회고 글 작성

---

### 2026-01-12 (일) - Session 27

#### Session 27: CRUD 필터 실시간 적용 구현

**문제**: GUI에서 CRUD 체크박스 변경 시 재분석 필요 (Issue #025)
**해결**: 원본 데이터 저장 + UI 레이어 필터링으로 실시간 반영

**문제 분석**

현재 구현의 문제점:
```java
// startAnalysis() 내부 - 분석 시점에 필터 적용
if (sqlTypeFilter != null && !sqlTypeFilter.isEmpty()) {
    result = analyzer.filterBySqlType(result, sqlTypeFilter);
}
currentResult = result;  // ← 필터링된 결과만 저장
```
- 원본 데이터가 없어서 필터 변경 시 재분석 필요
- 엔드포인트 검색은 실시간인데 CRUD는 아님 → UX 불일치

**대안 비교**

| 방식 | 장점 | 단점 | 선택 |
|------|------|------|------|
| 원본+필터 이중 저장 | 빠름 | 메모리 2배, 동기화 복잡 | ❌ |
| 재분석 (현재) | 간단 | 느림, UX 불편 | ❌ |
| **원본 저장 + UI 필터링** | 빠름, 확장 가능 | 필터 로직 UI 위치 | ✅ |

**기술적 결정 이유**
1. 엔드포인트 검색과 동일 패턴 → 일관성
2. 분석 1회 + 필터 즉시 적용 → 반응성
3. 테이블 필터 추가 시에도 재사용 가능 → 확장성

**구현 완료**

1. `originalResult` 필드 추가 (필터 없는 원본)
2. CRUD 체크박스에 ActionListener 추가
3. `applyFiltersAndRefresh()` 메서드 추가
4. 세션 저장/복원 시 원본 데이터 사용

**변경 파일**

1. `MainFrame.java` - 실시간 필터링 UI
   - Line 98: `originalResult` 필드 추가
   - Line 632-636: CRUD 체크박스 ActionListener
   - Line 1157-1192: `applyFiltersAndRefresh()` 메서드
   - Line 1055-1074: `saveSession()` - 원본 저장
   - Line 1076-1139: `restoreSession()` - 원본 복원 + 필터 적용

2. `FlowAnalyzer.java` - 필터링 버그 수정
   - Line 197-198: Controller 예외 처리 제거
   - 버그: Controller 노드가 자식 없어도 항상 포함됨
   - 수정: 모든 노드는 필터에 맞는 자식이 있어야만 포함

**배운 점**
1. **데이터와 뷰 분리**: 원본 데이터 보존으로 필터 전환 가능
2. **일관된 패턴**: 엔드포인트 검색과 동일한 실시간 필터링 패턴
3. **UX 개선**: 재분석 없이 즉시 필터링 → 반응성 향상
4. **재귀 필터링 주의**: 트리 구조 필터링 시 루트 노드 예외 처리 버그 주의

**다음 할 일**
- [ ] GUI 테이블 영향도 탭 추가
- [ ] CRUD 통계 대시보드 (#24)
- [ ] 러너스하이 마무리 회고 글 작성

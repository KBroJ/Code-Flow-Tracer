<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://www.ibatis.com/dtd/sql-map-2.dtd">

<!--
    부서 관리 SQL 매퍼
    전자정부프레임워크 iBatis 스타일의 예시 코드입니다.
-->
<sqlMap namespace="deptDAO">

    <!-- 부서 목록 조회 -->
    <select id="selectDeptList" resultClass="deptVO">
        SELECT
            DEPT_ID as deptId,
            DEPT_NAME as deptName,
            PARENT_DEPT_ID as parentDeptId,
            DEPT_LEVEL as deptLevel,
            USE_YN as useYn
        FROM TB_DEPT
        WHERE USE_YN = 'Y'
        ORDER BY DEPT_LEVEL, DEPT_ID
    </select>

    <!-- 부서 상세 조회 -->
    <select id="selectDept" parameterClass="string" resultClass="deptVO">
        SELECT
            DEPT_ID as deptId,
            DEPT_NAME as deptName,
            PARENT_DEPT_ID as parentDeptId,
            DEPT_LEVEL as deptLevel,
            USE_YN as useYn,
            REG_DATE as regDate,
            MOD_DATE as modDate
        FROM TB_DEPT
        WHERE DEPT_ID = #deptId#
    </select>

</sqlMap>
